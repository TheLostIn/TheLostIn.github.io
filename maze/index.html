<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Bomb</title>
	<meta name="description" content="maze">
	<meta name="keywords" content="maze">
	<link href="css/maze.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="../stylesheets/github-light.css" media="screen">
 	<link href="../public/bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../public/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="../public_js/node_modules/vue/dist/vue.js"></script>

</head>
<body>
<div class="body-bg-img">
	
</div>
<div class="container">

	<div class="bs-example bs-example-form" style="padding: 20px;">
		<div class="col-lg-12">
      		<h3>扫扫扫扫  雷</h3>
      	</div>
      	<div class="col-lg-12">
      		<h3>
      			啊哈 扫雷
      		</h3>
      	</div>    
     <div id="ask_height_width">
		<div class="col-lg-8 col-md-8 col-xs-8"><input type="text" class="col-lg-8 col-md-8 col-xs-8" name="width" id="width" placeholder="width"></div>
		<div class="col-lg-8 col-md-8 col-xs-8"><input type="text" class="col-lg-8 col-md-8 col-xs-8" name="height" id="height" placeholder="height"></div>
		<div class="col-lg-8 col-md-8 col-xs-8"><input type="text" class="col-lg-8 col-md-8 col-xs-8" name="hard" id="hard" placeholder="hard 1 2 3 4 5 6 越小越难"></div>
     </div>
		<div class="col-lg-8 col-md-8 col-xs-8"><input type="button" name="submit" value="let's begin" class="begin col-lg-8 col-md-8 col-xs-8" onclick="start()"></div>
		
	</div> 
	<div class="col-lg-12 col-md-12 col-xs-12" id="record">
			<div class="col-lg-12 col-md-12 col-xs-12">
			 	<span>雷的数量</span>
		      	<span>{{ maze_num }}</span>
			</div>
	      	<div class="col-lg-12 col-md-12 col-xs-12">    		
		      	<span>		      		
		      	已标记雷的数量
		      	</span>
			     <span>{{ maze_cur }}</span>
	      	</div>
      	</div>
	<div id="bg" style="padding: 30px" class="col-lg-12 col-xs-12 col-md-12">
		
	 </div>
	 <div id="re_start" style="padding: 30px" class="col-lg-8 col-xs-8 col-md-8">
	 <input type="button" name="submit" id="re_start" value="re_start" class="begin col-lg-8 col-md-8 col-xs-8" onclick="re_start()">
	 </div>
</div>
</body>
<script type="text/javascript">
$('#record').hide();
$('#re_start').hide();

function start()
{

	 console.log("start");
    var flag=0;
	var text='';
	var width=$('#width').val();
	var height=$('#height').val();
	var hard=$('#hard').val();
	width=12;
	height=12;
	hard=12;
	if($.trim(width)==''||$.trim(height)==''||$.trim(hard)=='')
	{
		alert('请输入雷阵的宽和高和难度');
	}
	else
	{
		height=parseInt(height);
		width=parseInt(width);
		hard=parseInt(hard);
		var a=Create_maze(width,height,hard);
	//	var c=Create_maze(12,12,5);
		check_result(a);
		var re;
		var flag=check_re();
		while(flag==0)
		{
			a=Create_maze(width,height,hard);
			check_result(a);
			flag=check_re()
		}
		re=pick_in_out();
		console.log(a);

		var count =0;
		var class_type;
	

		$('#bg').append(text);	for(var i=1;i<=height;i++)
		{
			for(var j=1;j<=width;j++)
			{
				 class_type= a[i][j]>0?"default":"block";
				count++;

				text+=`<input type="button" class="${class_type}" value=""  name="${count}" id="${count}" onmousedown="check_bomb(this.id)">`;
			}
			text+=`</br>`;
		}
		$('#record').show();
		$('#re_start').show();
		$('#ask_height_width').hide();
	}
		var in_count=(re.in.x-1)*(width)+re.in.y;
		var out_count=(re.out.x-1)*(width)+re.out.y;

		console.log(in_count,out_count);
		$(`input[id=${out_count}]`).removeClass("default");
		$(`input[id=${in_count}]`).removeClass("default");
		$(`input[id=${in_count}]`).addClass('in');
		$(`input[id=${out_count}`).addClass('out');
}

document.oncontextmenu=function(e){return false;}
//start();
</script>
<script type="text/javascript">
	$(document).ready(function(){
    // var prevpage="http://www.google.com.hk";//向左
    // var nextpage="http://www.baidu.com";//向右
    // var bookpage="http://localhost/test/index.asp";  //回车
    $("body").keydown(function(event){
     console.log(parseInt(event.keyCode));
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
    });
 });
	//c                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  $('body').keydown(moveto(event));
</script>

	<script type="text/javascript" src="js/maze2.js"></script>
</html>